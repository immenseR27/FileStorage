# FileStorage
Микросервис, выполняющий роль хранилища различных файлов и их атрибутов. <!--Описание репозитория-->
Предоставляет HTTP API и принимает запросы и отдает ответы в формате JSON.

<!--Технологический стек-->
## Технологический стек
- Java21
- Spring Boot
- Lombok
- Maven
- Hibernate
- Spring Data JPA
- PostgreSQL
- JUnit
- Docker

<!--Описание решения-->
## Описание решения
**1. Реализован следующий функционал:**

- Создание файла.

  На вход методу `saveFile()` отправляется JSON, включающий в себя файл (в формате base64) и его атрибуты (название - title, дата и время отправки - creation_date, краткое описание документа - description), на выходе метод возвращает id созданного файла.

- Получение файла.

  На вход методу `findById()` отправляется id файла, на выходе метод возвращает JSON, включающий в себя файл (в формате base64) и его атрибуты (название - title, дата и время отправки - creation_date, краткое описание документа - description).

- Получение всех файлов.

  Метод `findAllFiles()` возвращает JSON, включающий "первую страницу" (5 элементов/стр.) отсортированного по времени создания (от новых к старым) списка файлов (и их атрибутов).

**2. Добавлен тест сервиса на случай запроса отсутствующего файла**

**3. Реализована контейнеризация приложения:**
- С помощью Dockerfile создан образ Spring Boot проекта на основе его .jar
- Полученный образ загружен на dockerhub
- Создан файл docker-compose.yaml с конфигурацией для совместного запуска контейнеров Spring Boot и PostgreSQL

<!--Установка-->
## Установка
У вас должны быть установлены:
- terminal
- docker
- docker-compose

**Инструкция по запуску приложения:**
1. Скачать файл `docker-compose.yml`
2. В терминале перейти в директорию с `docker-compose.yml`
3. Запустить контейнеры командой `docker-compose up -d`

## Примеры тестовых запросов
**1. Добавление файла со случайно сгенерированными значениями атрибутов и получение id добавленной записи.**

![изображение](https://github.com/user-attachments/assets/68f024a0-4821-417d-983a-109b1bfd0a78)
   
![pic4](https://github.com/user-attachments/assets/a16bfa9f-f7c9-4881-b9ec-e91281f1d124)

**2. Получение добавленного файла и его атрибутов по id.**

![изображение](https://github.com/user-attachments/assets/6d7ce58b-f982-4ece-8c8a-f3769728e347)

**3. Получение первой страницы списка всех файлов, отсортированных по времени создания, после добавления еще нескольких случайных записей.**

![изображение](https://github.com/user-attachments/assets/9da3bcc3-b785-4dd4-ade2-ebda7c0168c0)
